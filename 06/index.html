<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Questao 6</title>
	</head>

	<body>
		<input id="cpfWithMask" maxlength="14" />
		<input id="cpf" maxlength="11" disabled />

		<script>
			let cpf = document.getElementById("cpf");
			let cpfWithMask = document.getElementById("cpfWithMask");

			cpfWithMask.addEventListener("keypress", (e) => {
				cpfWithMask.value = cpfMask(e.target.value);
				cpf.value = removeMask(e.target.value);
			});

			function removeMask(value) {
				return value.replace(/\D/g, "");
			}

			function cpfMask(CPF) {
				CPF = CPF.replace(/\D/g, "");
				CPF = CPF.replace(/(\d{3})(\d)/, "$1.$2");
				CPF = CPF.replace(/(\d{3})(\d)/, "$1.$2");
				CPF = CPF.replace(/(\d{3})(\d{1,2})$/, "$1-$2");
				return CPF;
			}
		</script>
	</body>
</html>
